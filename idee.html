<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ’¡ Idee â€“ Projekt 5-7 Rot</title>
  <link rel="stylesheet" href="projekt.css">
</head>
<body>
  <main class="container">
    <!-- Schritt 1 -->
    <section class="card step active" id="step1">
      <h1>ğŸ› ï¸ğŸ’» Projektunterricht Ideenwerkzeug</h1>
      <div class="subtitle">Entwickle konkrete Ideen fÃ¼r dein oder euer aktuelles Projekt</div>

      <div class="progress-bar"><div class="progress-fill" style="width: 33%"></div></div>

      <h2><span class="icon">ğŸ¯</span> Schritt 1: Dein Themenfeld</h2>
      <p>Was ist das vorgegebene Oberthema fÃ¼r das aktuelle Projekt?</p>

      <input type="text" id="themenfeld" placeholder="z.B. Bewegung am Land, Nationalsozialismus..." maxlength="200">
      <button id="start-btn" disabled>ğŸš€ Ideensammlung starten</button>
    </section>

    <!-- Schritt 2 -->
    <section class="card step" id="step2">
      <h1>ğŸ› ï¸ğŸ’» Projektunterricht Ideenwerkzeug</h1>
      <div class="progress-bar"><div class="progress-fill" style="width: 66%"></div></div>

      <h2><span class="icon">ğŸ’¡</span> Schritt 2: Ideensammlung</h2>
      <p><strong>Themenfeld:</strong> <span id="themenfeld-display"></span></p>

      <div class="timer" id="timer">â° Zeit: 5:00</div>
      <div class="warning-text">Ihr habt 5 Minuten Zeit! Sammelt so viele Ideen wie mÃ¶glich â€“ auch verrÃ¼ckte!</div>
      
      <button class="secondary-btn" onclick="forceFinishTimer()">âœ… Fertig</button>

      <button class="secondary-btn" onclick="getCreativityBooster()">âœ¨ KreativitÃ¤ts-Booster holen</button>
      <div class="creativity-booster" id="creativity-booster"></div>

      <textarea id="neue-idee" placeholder="Gib hier deine Idee ein..." rows="3"></textarea>
      <button onclick="addIdee()">â• Idee hinzufÃ¼gen</button>

      <div class="ideas-list" id="ideas-display" style="display: none;">
        <h3>Deine Ideen:</h3>
        <div id="ideas-container"></div>
      </div>
    </section>

    <!-- Schritt 3 -->
    <section class="card step" id="step3">
      <h1>ğŸ› ï¸ğŸ’» Projektunterricht Ideenwerkzeug</h1>
      <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>

      <h2><span class="icon">ğŸ¯</span> Schritt 3: Ideenauswahl & KI-Prompt</h2>
      <div class="success-text">GroÃŸartig! Du hast <span id="total-ideas"></span> Ideen gesammelt!</div>
      <p><strong>Themenfeld:</strong> <span id="themenfeld-final"></span></p>
      <p><strong>WÃ¤hle bis zu 3 Ideen aus:</strong></p>

      <div class="ideas-list" id="final-ideas-list"></div>
      <button id="generate-btn" style="display: none;">ğŸ¤– KI-Prompt generieren</button>

      <div id="prompt-section" style="display: none;">
        <h3>Dein personalisierter KI-Prompt:</h3>
        <div class="prompt-box" id="generated-prompt"></div>
        <button onclick="copyPrompt()">ğŸ“‹ Prompt kopieren</button>
      </div>

      <button class="secondary-btn" onclick="restart()">ğŸ”„ Neues Themenfeld bearbeiten</button>
    </section>
  </main>

  <footer>
    <p>Erstellt von Louis Birk-von Brook â€¢ Lizenz:
      <a href="https://creativecommons.org/publicdomain/zero/1.0/deed.de">CC0</a>
    </p>
  </footer>

  <script>
    let currentStep = 1;
    let timerInterval;
    let timeLeft = 300;
    let ideas = [];
    let selectedIdeas = [];
    let themenfeld = '';

    const creativityBoosters = [
      "ğŸ’­ Was wÃ¼rde Lisa Simpson jetzt machen?",
      "ğŸ’° Stell dir vor, du hÃ¤ttest unendlich viel Geld â€“ was dann?",
      "ğŸŒ Was wÃ¤re anders, wenn du das Projekt in Afrika oder Japan machst?",
      "ğŸ¤– Wie kÃ¶nnte dir ein Roboter helfen?",
      "ğŸ‘¶ Was wÃ¼rde ein Kindergartenkind vorschlagen?",
      "ğŸ® Wie kÃ¶nntest du daraus ein Spiel machen?",
      "ğŸ“± Welches digitale GerÃ¤t kÃ¶nnte dir helfen?",
      "ğŸŒ± Wie kÃ¶nntest du die Umwelt dabei schÃ¼tzen?",
      "ğŸ‘¥ Mit wem wÃ¼rdest du niemals zusammenarbeiten â€“ aber vielleicht doch?",
      "âš¡ Wie verrÃ¼ckt darf deine Idee sein?",
      "ğŸ”® Wie sieht deine Idee in 10 Jahren aus?",
      "ğŸ  Wie kÃ¶nntest du direkt zu Hause loslegen?",
      "ğŸ“º Welche Fernsehserie bringt dich auf eine Idee?",
      "ğŸŒŸ Was passiert, wenn du das Gegenteil von dem machst, was andere tun wÃ¼rden?",
      "ğŸ”— Wie passen Computer und Umwelt bei deiner Idee zusammen?",
      "ğŸ¨ Was wÃ¼rde ein KÃ¼nstler daraus machen?",
      "âš–ï¸ Wie kann deine Idee anderen helfen, die weniger haben?",
      "ğŸš€ Wenn alles mÃ¶glich wÃ¤re â€“ was wÃ¼rdest du erfinden?",
      "ğŸŒˆ Wie kÃ¶nnen Kinder und GroÃŸeltern bei deiner Idee zusammenarbeiten?",
      "ğŸ¯ Was ist der kleinste erste Schritt?",
      "ğŸªŸ Was siehst du drauÃŸen â€“ bringt dich das auf eine Idee?",
      "â˜• Schau dich um â€“ was liegt auf deinem Tisch?",
      "ğŸµ Stell dir vor, deine Idee wÃ¤re ein Lied â€“ wie wÃ¼rde es klingen?",
      "ğŸ‘• Welche Farbe hat dein T-Shirt? Welche Idee passt zu dieser Farbe?",
      "ğŸŒ¡ï¸ Wie fÃ¼hlt sich deine Idee bei Sonne, Regen oder Schnee an?",
      "ğŸ Was hast du gegessen? Stell dir vor, das gehÃ¶rt zu deinem Projekt."
    ];

    function updateStartButton() {
      const input = document.getElementById('themenfeld');
      const btn = document.getElementById('start-btn');
      btn.disabled = !input.value.trim();
    }

    function startIdeensammlung() {
      const input = document.getElementById('themenfeld');
      themenfeld = input.value.trim();
      document.getElementById('themenfeld-display').textContent = themenfeld;
      showStep(2);
      startTimer();
    }

    function showStep(step) {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById(`step${step}`).classList.add('active');
      currentStep = step;
    }

    function startTimer() {
      const timerEl = document.getElementById('timer');
      timerInterval = setInterval(() => {
        timeLeft--;
        const min = Math.floor(timeLeft / 60);
        const sec = String(timeLeft % 60).padStart(2, '0');
        timerEl.textContent = `â° Zeit: ${min}:${sec}`;
        if (timeLeft <= 60) timerEl.classList.add('warning');
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          finishIdeensammlung();
        }
      }, 1000);
    }

    function addIdee() {
      const input = document.getElementById('neue-idee');
      const val = input.value.trim();
      if (!val) return;
      ideas.push(val);
      input.value = '';
      updateIdeasDisplay();
    }

    function updateIdeasDisplay() {
      const list = document.getElementById('ideas-container');
      list.innerHTML = ideas.map((i, idx) =>
        `<div class="idea-item">${idx + 1}. ${i}</div>`
      ).join('');
      document.getElementById('ideas-display').style.display = 'block';
    }

    function getCreativityBooster() {
      const el = document.getElementById('creativity-booster');
      el.textContent = creativityBoosters[Math.floor(Math.random() * creativityBoosters.length)];
      el.classList.add('show');
    }

    function finishIdeensammlung() {
      showStep(3);
      document.getElementById('themenfeld-final').textContent = themenfeld;
      document.getElementById('total-ideas').textContent = ideas.length;
      const list = document.getElementById('final-ideas-list');
      list.innerHTML = ideas.map((i, idx) =>
        `<div class="idea-item" onclick="toggleIdea(${idx})" data-index="${idx}">
          <input type="checkbox" style="margin-right: 10px;">${i}</div>`
      ).join('');
    }

    function toggleIdea(index) {
      const item = document.querySelector(`[data-index="${index}"]`);
      const checkbox = item.querySelector('input[type="checkbox"]');
      if (selectedIdeas.includes(index)) {
        selectedIdeas = selectedIdeas.filter(i => i !== index);
        item.classList.remove('selected');
        checkbox.checked = false;
      } else if (selectedIdeas.length < 3) {
        selectedIdeas.push(index);
        item.classList.add('selected');
        checkbox.checked = true;
      } else {
        alert('Du kannst maximal 3 Ideen auswÃ¤hlen!');
      }
      document.getElementById('generate-btn').style.display = selectedIdeas.length > 0 ? 'inline-flex' : 'none';
    }

    function generatePrompt() {
      const selectedText = selectedIdeas.map(i => ideas[i]).join('\n- ');
      const prompt = `Hey! SchÃ¶n, dass du da bist! 

Ich mache gerade ein spannendes Projekt mit Kindern zwischen 9 und 12 Jahren â€“ vielleicht so alt wie du â€“ und brauche deine UnterstÃ¼tzung beim Nachdenken.

Es geht darum, wie wir unsere Welt ein kleines StÃ¼ck besser machen kÃ¶nnen. Du hast bestimmt schon von wichtigen Themen wie Umweltschutz, Gerechtigkeit oder guter Bildung fÃ¼r alle gehÃ¶rt â€“ das sind Teile der 17 Ziele fÃ¼r eine nachhaltige Entwicklung (auch SDGs genannt). Und weiÃŸt du was? Kinder haben richtig gute Ideen, wie man diese Ziele erreichen kann!

Mein Thema ist: ${themenfeld} Dazu habe ich mir schon ein paar Ideen Ã¼berlegt, die ich richtig spannend finde: ${selectedIdeasText} Jetzt frage ich mich: Welche dieser Ideen eignet sich am besten, um mit Kindern gemeinsam etwas zu bewegen? Ich suche eine Idee, die nicht nur spannend ist, sondern auch zeigt, wie man mit kleinen Schritten etwas GroÃŸes verÃ¤ndern kann â€“ am besten mit digitalen Werkzeugen und ganz viel KreativitÃ¤t!

Kannst du mir helfen, das herauszufinden? Aber bitte nicht mit einer Checkliste! Ich wÃ¼nsche mir jemanden, der mit mir denkt, der neugierig fragt, und mir hilft, die besten Ideen zu entdecken â€“ Schritt fÃ¼r Schritt.

Was denkst du â€“ welche der drei Ideen klingt fÃ¼r dich am interessantesten? Und warum?Â´;
      
      document.getElementById('generated-prompt').textContent = prompt;
      document.getElementById('prompt-section').style.display = 'block';
    }

    function copyPrompt() {
      const prompt = document.getElementById('generated-prompt').textContent;
      navigator.clipboard.writeText(prompt).then(() => {
        alert('Prompt kopiert!');
      });
    }

    function restart() {
      ideas = [];
      selectedIdeas = [];
      themenfeld = '';
      timeLeft = 300;
      clearInterval(timerInterval);
      showStep(1);
      document.getElementById('themenfeld').value = '';
      document.getElementById('neue-idee').value = '';
      document.getElementById('creativity-booster').classList.remove('show');
      document.getElementById('ideas-display').style.display = 'none';
      document.getElementById('timer').classList.remove('warning');
    }
    
    function forceFinishTimer() {
  clearInterval(timerInterval);
  timeLeft = 0;
  finishIdeensammlung();
}

    // Tastatursteuerung
    document.getElementById('themenfeld').addEventListener('input', updateStartButton);
    document.getElementById('themenfeld').addEventListener('keypress', e => {
      if (e.key === 'Enter' && !document.getElementById('start-btn').disabled) startIdeensammlung();
    });
    document.getElementById('neue-idee').addEventListener('keypress', e => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        addIdee();
      }
    });

    window.addEventListener('load', updateStartButton);
    document.getElementById('start-btn').addEventListener('click', startIdeensammlung);
  </script>
</body>
</html>